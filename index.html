<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AI Trading Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #f8f8f8; }
    h1 { color: #333; }
    #trade-log { background: #fff; border: 1px solid #ccc; padding: 20px; max-width: 600px; margin-top: 20px; }
    .trade-entry { border-bottom: 1px solid #eee; padding: 10px 0; }
    .trade-entry:last-child { border-bottom: none; }
    #refresh-btn { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>AI Trading Dashboard</h1>
  <button id="refresh-btn">Refresh Trade Log</button>
  <div id="trade-log">
    <em>Loading trade log...</em>
  </div>
  <script>
    async function fetchTradeLog() {
      const res = await fetch('/api/trade_log');
      if (res.ok) {
        const trades = await res.json();
        const logDiv = document.getElementById('trade-log');
        if (trades.length === 0) {
          logDiv.innerHTML = '<em>No trades yet.</em>';
        } else {
          logDiv.innerHTML = trades.map(trade =>
            `<div class="trade-entry">
              <strong>${trade.timestamp}</strong>: ${trade.action} ${trade.symbol} @ ${trade.price}
            </div>`
          ).join('');
        }
      } else {
        document.getElementById('trade-log').innerHTML = '<em>Error loading trade log.</em>';
      }
    }
    document.getElementById('refresh-btn').onclick = fetchTradeLog;
    fetchTradeLog();
  </script>
</body>
</html>
